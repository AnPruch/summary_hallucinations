# Лексический анализ "галлюцинаций" нейросетевой языковой модели в задаче суммаризации текста

Данный репозиторий представляет собой хранилище данных, использованных для выполнения 
исследовательской работы по теме "Лексический анализ "галлюцинаций" нейросетевой языковой модели 
в задаче суммаризации текста". 

С помощью терминала я загрузила данные датасетов, с которыми работаю, в репозиторий, 
теперь ссылки на датасеты хранятся в файле **.gitmodules** 
и доступны для просмотра в саб-модулях **tofueval_lib @ ade0f38** и **summedits_lib @ c22b708**,
ведущих в соответствующие оригинальные репозитории.

Файл **requirements.txt** содержит библиотеки, необходимые для запуска основных файлов с анализом.

В файлах **summedits_analysis.py** и **tofueval_analysis.py** содержится первоначальный анализ 
соответствующих датасетов, отвечающих задаче поиска галлюцинаций в саммари текста. Там проведена загрузка файлов,
некоторые вычисления и упрощение данных. Также в файлe **SummEdits_Graphs.ipynb** содержатся диаграммы,
для упрощения визуального восприятия процентных данных.

Итоговые файлы, содержащие галлюцинирующие саммари, содержатся в папках **SummEdits Files** и **TofuEval Files**.
Это конечный этап, который можно увидеть в данном репозитории. Основной лексический анализ происходил вручную
на основе итоговых файлов.

# TofuEval

TofuEval представляет собой два датасета, содержащих разметку галлюцинаций по нескольким категориям. 

Предварительный анализ включает в себя загрузку датасетов и соединение обучающей и тестовой выборки в один датафрэйм.
Затем происходит выделение галлюцинирующих текстов и подсчёт их абсолютного и относительного количества.
Потом галлюцинирующие саммари загружаются в csv файлы, откуда их можно открыть в Excel и достаточно удобно проанализировать,
сортируя на каждом этапе типы галлюцинаций. В процессе можно ориентироваться на загруженные транскрипции 
**meetingbank_dev_doc.csv** и **meetingbank_test_doc.csv** и на изначальный файл для датасета интервью:

Но изначальный файл **news_dialoge.json** — слишком большой, чтобы поместить его на Github, поэтому если 
нужно или хочется свериться, можно загрузить его [по ссылке](https://drive.google.com/file/d/1ZAKZM1cGhEw2A4_n4bGGMYyF8iPjLZni/view)
и открыть отдельно.

# SummEdits

SummEdits представляет собой десять отдельных датасетов разной тематики. Они содержат конкретные слова и выражения, 
которые были галлюцинированы моделями, а также типы получившихся галлюцинаций.

Также там есть разделение по тем изменениям, которые не ведут к галлюцинациям (consistent), и наоборот 
(inconsistent). Их тоже можно разделить и проанализировать.

Предварительный анализ включает в себя отделение каждого из датасетов и извлечение тех самых конкретных слов и 
выражений. Для визуализации в модуль SummEdits встроено выделение цветом этих частей, я же использую
цветовые коды, чтобы выбрать галлюцинации в отдельный столбец датасета. 

Затем я происходит количественный подсчёт каждого типа галлюцинаций для каждого датасета.
Выводящиеся здесь данные используются в **SummEdits_Graphs.ipynb** для визуализации.

Полученные датасеты я записываю в текстовые файлы, группируя информацию по типам галлюцинаций. Здесь же происходит 
разметка частей речи каждой из галлюцинаций, как в абсолютном, так и в относительном виде для каждого из типов галлюцинаций.

Наконец, я вывожу те consistent изменения, которые собирала ранее, для каждого датасета.
___
На этом заканчивается автоматическая часть проверки и начинается ручной лексически-семантический анализ.
